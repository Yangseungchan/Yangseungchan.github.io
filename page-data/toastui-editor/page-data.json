{
    "componentChunkName": "component---src-templates-post-template-tsx",
    "path": "/toastui-editor/",
    "result": {"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<p>NextJS와 React를 사용하는 프로젝트를 진행하면서 게시글을 작성하고 읽는 기능이 필요해졌다. 이를 위해 찾아본 결과 ToastUI에서 제공하는 <a href=\"https://github.com/nhn/tui.editor/tree/master/apps/react-editor\" target=\"_blank\" rel=\"nofollow\">Editor</a>가 있어서 사용해보았다. 그런데 공식문서대로 적용해보았으나 오류(~ is not defined)가 발생하며 적용이 되지 않았다. Github issue에서 이에 관해 찾아보았으나 별로 마땅한 해결책이 나오지 않아 구글링을 시도했다. 역시나, 어느 똑똑하신 분께서 <a href=\"https://yoon-dumbo.tistory.com/m/38?category=969772\" target=\"_blank\" rel=\"nofollow\">해결책</a>을 내려주셨다.</p>\n<p>이런 문제가 발생한 것은 바로 ToastUI Editor에서는 NextJS에서 적용되는 SSR(Server Side Rendering)을 지원하지 않기 때문이었다. 이러한 충돌을 막기 위해서는 <strong>해당 에디터를 dynamic하게 import할 필요가 있다</strong>. 위 블로그 링크에서 해결책을 확인할 수 있으니, 자세한 설명은 생략하겠다.</p>\n<p><img src=\"https://images.velog.io/images/seungchan__y/post/71681e6c-45f2-4ce8-8424-be590f46a975/%E1%84%85%E1%85%A9%E1%84%83%E1%85%A5%20%E1%84%8C%E1%85%A5%E1%86%A8%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%8C%E1%85%A5%E1%86%AB.gif\" alt=\"로더 적용 전\"></p>\n<p>그런데 한 가지 문제가 있다. 정상적으로 적용된 에디터 페이지를 들어가보면, 잘 나오는데 에디터만 유독 느리게 나온다. 아마도 런타임에 로드를 해야 되는 것이다 보니 다른 요소들에 비해서 느리게 나오는 것 같다. 이를 완화 시키고자 dynamic import시 <strong>loading</strong> 옵션을 추가했다. Dynamic Import의 loading 옵션에 대한 자세한 설명을 보고싶다면 <a href=\"https://nextjs.org/docs/advanced-features/dynamic-import#with-custom-loading-component\" target=\"_blank\" rel=\"nofollow\">공식문서</a>를 참고하기를 바란다.</p>\n<h3><strong>Editor를 Dynamic import로 불러오는 부분</strong></h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">const PostEditor = dynamic(() => import('../PostEditor/PostEditor'), {\n  ssr: false,\n  loading: () => &lt;EditorLoader />,\n});\n</code></pre></div>\n<h3>EditorLoader 컴포넌트</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">import CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n  loaderContainer: {\n    height: \"600px\",\n    width: \"100%\",\n    border: `0.5px solid ${theme.palette.grey[400]}`,\n    borderRadius: \"4px\",\n  },\n  loaderItem: {\n    position: \"relative\",\n    top: \"50%\",\n    left: \"50%\",\n  },\n}));\n\nconst EditorLoader = () => {\n  const classes = useStyles();\n  return (\n    &lt;div className={classes.loaderContainer}>\n      &lt;div className={classes.loaderItem}>\n        &lt;CircularProgress color=\"primary\" />\n      &lt;/div>\n    &lt;/div>\n  );\n};\n\nexport default EditorLoader;\n</code></pre></div>\n<p>EditorLoader의 구성요소 중 하나인 CircularProgress라는 요소는 material-ui에서 제공해주는 컴포넌트인 점을 참고하길 바란다. 꼭 위와 같이 material-ui를 적용할 필요 없이 적용한 editor의 크기로 자기 스타일에 맞는 Loader를 적용하면 된다.</p>\n<p><img src=\"https://images.velog.io/images/seungchan__y/post/04ba75d0-8af9-4632-9f8c-597d06a4f8b3/%E1%84%85%E1%85%A9%E1%84%83%E1%85%A5%E1%84%8C%E1%85%A5%E1%86%A8%E1%84%8B%E1%85%AD%E1%86%BC.gif\" alt=\"로더 적용\"></p>\n<p>위 사진에서 볼 수 있듯이 loading 옵션을 적용하니 Editor를 가져오는 동안 EditorLoader 컴포넌트가 그 자리를 차지하면서 이전과 다르게 에디터의 로딩을 기다리더라도 이질감은 덜 느껴진다.</p>\n<p>원래는 Editor와 Viewer를 같이 다룰려고 하였으나 너무 길어진 관계로 다음글에서 Viewer 적용을 소개하려고 한다.</p>\n<hr>\n<h2>Source</h2>\n<ul>\n<li>\n<p>Next.js에 toast ui Editor을 같이 사용하는 방법</p>\n<p><a href=\"https://yoon-dumbo.tistory.com/m/38?category=969772\" target=\"_blank\" rel=\"nofollow\"><a href=\"https://yoon-dumbo.tistory.com/m/38?category=969772\" target=\"_blank\" rel=\"nofollow\">https://yoon-dumbo.tistory.com/m/38?category=969772</a></a></p>\n</li>\n<li>\n<p>Next.js Dynamic Import</p>\n<p><a href=\"https://nextjs.org/docs/advanced-features/dynamic-import#with-custom-loading-component\" target=\"_blank\" rel=\"nofollow\"><a href=\"https://nextjs.org/docs/advanced-features/dynamic-import#with-custom-loading-component\" target=\"_blank\" rel=\"nofollow\">https://nextjs.org/docs/advanced-features/dynamic-import#with-custom-loading-component</a></a></p>\n</li>\n</ul>","frontmatter":{"title":"NextJS에서 Toastui Editor 적용하기","summary":"NextJS에서 Toastui Editor 적용하는 방법을 알아본다","date":"2021.07.21.","categories":["React","Toastui","Editor","Next"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABwklEQVQoz21TzY7TMBDO+3KDN+C474B4Be4cVkJcq0VCRVpA7YbCtkocu0ljx45jf8zYSbeUjvRpJs7MNz8eF3qw6LWBcw7DMEBrja7r0Pd9sluynbVQ2qI6WdT9hKMLcFPGSAghIMaIaZpQGOtRCQklJbz3GMcxkS86RCRZKeD9E/BuA3zYRazbiAcZ8bmKEJadiJCIC617bLcbwjZVxlkuhTOzSKnwdf0IoU7pmwpLyfysWQIZRT+3yBW1bQtL7S1EC1iU3GBXfkJTf4EbHonxByIh65+E7wj+mQhpVpLa5TlcV7XMheX+/iPevH6Fu7u3OHU1nTjEYMhpmGGIw3LLGkqpf0huVXg4HLBaPWC9/kazDrMPTy7j3LKmGy7LEkKIm6SX+iV0PrtKyl0WzNo0DfZUAbd/Xd05gPB7X+Gp/AVj9M2EmZBn5KfL5P9JmAP2csDuz4EKEOfZvlQYM6GjxdbHDtYMNJsJI+0i7yMHLKAQeOvg2g5h9Cl3/hfS7k3zcqfFbrsTatqxRh0h6LbFbBsiWMDiiKhu8n/WySbwS7P0j/3Yp+Dnxrt3DT6/hDH5WWaYpPmsIVK+g4YSVZXAX2g0ooyoZk/pAAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/b03c233e9bb519832130b7d853008217/1b3a9/toastui-editor.png","srcSet":"/static/b03c233e9bb519832130b7d853008217/63903/toastui-editor.png 230w,\n/static/b03c233e9bb519832130b7d853008217/0fd25/toastui-editor.png 460w,\n/static/b03c233e9bb519832130b7d853008217/1b3a9/toastui-editor.png 920w","sizes":"(min-width: 920px) 920px, 100vw"},"sources":[{"srcSet":"/static/b03c233e9bb519832130b7d853008217/ff703/toastui-editor.webp 230w,\n/static/b03c233e9bb519832130b7d853008217/f3e78/toastui-editor.webp 460w,\n/static/b03c233e9bb519832130b7d853008217/29103/toastui-editor.webp 920w","type":"image/webp","sizes":"(min-width: 920px) 920px, 100vw"}]},"width":920,"height":542}},"publicURL":"/static/b03c233e9bb519832130b7d853008217/toastui-editor.png"}}}}]}},"pageContext":{"slug":"/toastui-editor/"}},
    "staticQueryHashes": []}